{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/dev/Vizsgafeladat/ERWS/erws/src/lib/cart.ts"],"sourcesContent":["// src/lib/cart.ts\r\nexport type CartItem = {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  image: string;\r\n  quantity: number;\r\n};\r\n\r\nconst KEY = \"erws_cart_v1\";\r\n\r\nexport function readCart(): CartItem[] {\r\n  if (typeof window === \"undefined\") return [];\r\n  try {\r\n    const raw = localStorage.getItem(KEY);\r\n    return raw ? (JSON.parse(raw) as CartItem[]) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function saveCart(items: CartItem[]) {\r\n  localStorage.setItem(KEY, JSON.stringify(items));\r\n}\r\n\r\nexport function addToCart(item: Omit<CartItem, \"quantity\">, qty = 1) {\r\n  const cart = readCart();\r\n  const existing = cart.find((x) => x.id === item.id);\r\n\r\n  if (existing) existing.quantity += qty;\r\n  else cart.push({ ...item, quantity: qty });\r\n\r\n  saveCart(cart);\r\n  return cart;\r\n}\r\n\r\nexport function removeFromCart(id: string) {\r\n  const cart = readCart().filter((x) => x.id !== id);\r\n  saveCart(cart);\r\n  return cart;\r\n}\r\n\r\nexport function setQuantity(id: string, quantity: number) {\r\n  const q = Math.max(1, Math.min(99, quantity));\r\n  const cart = readCart().map((x) => (x.id === id ? { ...x, quantity: q } : x));\r\n  saveCart(cart);\r\n  return cart;\r\n}\r\n\r\nexport function clearCart() {\r\n  saveCart([]);\r\n  return [];\r\n}\r\n\r\nexport function getTotal(items: CartItem[]) {\r\n  return items.reduce((sum, x) => sum + x.price * x.quantity, 0);\r\n}\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;;;;;;;;;AASlB,MAAM,MAAM;AAEL,SAAS;IACd,wCAAmC,OAAO,EAAE;;;AAO9C;AAEO,SAAS,SAAS,KAAiB;IACxC,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEO,SAAS,UAAU,IAAgC,EAAE,MAAM,CAAC;IACjE,MAAM,OAAO;IACb,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;IAElD,IAAI,UAAU,SAAS,QAAQ,IAAI;SAC9B,KAAK,IAAI,CAAC;QAAE,GAAG,IAAI;QAAE,UAAU;IAAI;IAExC,SAAS;IACT,OAAO;AACT;AAEO,SAAS,eAAe,EAAU;IACvC,MAAM,OAAO,WAAW,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC/C,SAAS;IACT,OAAO;AACT;AAEO,SAAS,YAAY,EAAU,EAAE,QAAgB;IACtD,MAAM,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI;IACnC,MAAM,OAAO,WAAW,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK;YAAE,GAAG,CAAC;YAAE,UAAU;QAAE,IAAI;IAC1E,SAAS;IACT,OAAO;AACT;AAEO,SAAS;IACd,SAAS,EAAE;IACX,OAAO,EAAE;AACX;AAEO,SAAS,SAAS,KAAiB;IACxC,OAAO,MAAM,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,KAAK,GAAG,EAAE,QAAQ,EAAE;AAC9D"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///D:/dev/Vizsgafeladat/ERWS/erws/src/app/cart/CartClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  CartItem,\r\n  readCart,\r\n  removeFromCart,\r\n  setQuantity,\r\n  clearCart,\r\n  getTotal,\r\n} from \"@/lib/cart\";\r\n\r\nexport default function CartClient() {\r\n  const [items, setItems] = useState<CartItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    setItems(readCart());\r\n  }, []);\r\n\r\n  const total = getTotal(items);\r\n\r\n  return (\r\n    <main style={{ maxWidth: 1100, margin: \"0 auto\", padding: \"18px 16px\" }}>\r\n      <h1>Kos√°r</h1>\r\n\r\n      {items.length === 0 ? (\r\n        <p style={{ opacity: 0.75 }}>A kosarad √ºres. (Ez m√©g nem baj, csak t√∫l j√≥k az √°raink, √©s megijedt√©l üòÑ)</p>\r\n      ) : (\r\n        <>\r\n          <div style={{ display: \"grid\", gap: 12, marginTop: 14 }}>\r\n            {items.map((x) => (\r\n              <div\r\n                key={x.id}\r\n                style={{\r\n                  display: \"grid\",\r\n                  gridTemplateColumns: \"120px 1fr auto\",\r\n                  gap: 14,\r\n                  alignItems: \"center\",\r\n                  border: \"1px solid #e5e5e5\",\r\n                  borderRadius: 12,\r\n                  padding: 12,\r\n                }}\r\n              >\r\n                <div style={{ borderRadius: 10, overflow: \"hidden\" }}>\r\n                  <Image\r\n                    src={x.image}\r\n                    alt={x.name}\r\n                    width={300}\r\n                    height={220}\r\n                    style={{ width: \"100%\", height: 80, objectFit: \"cover\" }}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <div style={{ fontWeight: 700 }}>{x.name}</div>\r\n                  <div style={{ opacity: 0.75, marginTop: 2 }}>\r\n                    {x.price.toLocaleString(\"hu-HU\")} Ft / db\r\n                  </div>\r\n\r\n                  <div style={{ marginTop: 10, display: \"flex\", alignItems: \"center\", gap: 10 }}>\r\n                    <label style={{ opacity: 0.75 }}>Mennyis√©g:</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min={1}\r\n                      max={99}\r\n                      value={x.quantity}\r\n                      onChange={(e) => {\r\n                        const q = Number(e.target.value);\r\n                        const updated = setQuantity(x.id, q);\r\n                        setItems(updated);\r\n                      }}\r\n                      style={{\r\n                        width: 80,\r\n                        padding: \"6px 8px\",\r\n                        borderRadius: 10,\r\n                        border: \"1px solid #ddd\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ textAlign: \"right\" }}>\r\n                  <div style={{ fontWeight: 800 }}>\r\n                    {(x.price * x.quantity).toLocaleString(\"hu-HU\")} Ft\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => setItems(removeFromCart(x.id))}\r\n                    style={{\r\n                      marginTop: 10,\r\n                      padding: \"8px 10px\",\r\n                      borderRadius: 10,\r\n                      border: \"1px solid #ddd\",\r\n                      background: \"white\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    T√∂rl√©s\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              marginTop: 18,\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              borderTop: \"1px solid #e5e5e5\",\r\n              paddingTop: 14,\r\n            }}\r\n          >\r\n            <button\r\n              onClick={() => setItems(clearCart())}\r\n              style={{\r\n                padding: \"10px 12px\",\r\n                borderRadius: 10,\r\n                border: \"1px solid #ddd\",\r\n                background: \"white\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Kos√°r √ºr√≠t√©se\r\n            </button>\r\n\r\n            <div style={{ fontSize: 18, fontWeight: 900 }}>\r\n              √ñsszesen: {total.toLocaleString(\"hu-HU\")} Ft\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gUAAQ,EAAa,EAAE;IAEjD,IAAA,iUAAS,EAAC;QACR,SAAS,IAAA,8HAAQ;IACnB,GAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,8HAAQ,EAAC;IAEvB,qBACE,6VAAC;QAAK,OAAO;YAAE,UAAU;YAAM,QAAQ;YAAU,SAAS;QAAY;;0BACpE,6VAAC;0BAAG;;;;;;YAEH,MAAM,MAAM,KAAK,kBAChB,6VAAC;gBAAE,OAAO;oBAAE,SAAS;gBAAK;0BAAG;;;;;qCAE7B;;kCACE,6VAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;4BAAI,WAAW;wBAAG;kCACnD,MAAM,GAAG,CAAC,CAAC,kBACV,6VAAC;gCAEC,OAAO;oCACL,SAAS;oCACT,qBAAqB;oCACrB,KAAK;oCACL,YAAY;oCACZ,QAAQ;oCACR,cAAc;oCACd,SAAS;gCACX;;kDAEA,6VAAC;wCAAI,OAAO;4CAAE,cAAc;4CAAI,UAAU;wCAAS;kDACjD,cAAA,6VAAC,uPAAK;4CACJ,KAAK,EAAE,KAAK;4CACZ,KAAK,EAAE,IAAI;4CACX,OAAO;4CACP,QAAQ;4CACR,OAAO;gDAAE,OAAO;gDAAQ,QAAQ;gDAAI,WAAW;4CAAQ;;;;;;;;;;;kDAI3D,6VAAC;;0DACC,6VAAC;gDAAI,OAAO;oDAAE,YAAY;gDAAI;0DAAI,EAAE,IAAI;;;;;;0DACxC,6VAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,WAAW;gDAAE;;oDACvC,EAAE,KAAK,CAAC,cAAc,CAAC;oDAAS;;;;;;;0DAGnC,6VAAC;gDAAI,OAAO;oDAAE,WAAW;oDAAI,SAAS;oDAAQ,YAAY;oDAAU,KAAK;gDAAG;;kEAC1E,6VAAC;wDAAM,OAAO;4DAAE,SAAS;wDAAK;kEAAG;;;;;;kEACjC,6VAAC;wDACC,MAAK;wDACL,KAAK;wDACL,KAAK;wDACL,OAAO,EAAE,QAAQ;wDACjB,UAAU,CAAC;4DACT,MAAM,IAAI,OAAO,EAAE,MAAM,CAAC,KAAK;4DAC/B,MAAM,UAAU,IAAA,iIAAW,EAAC,EAAE,EAAE,EAAE;4DAClC,SAAS;wDACX;wDACA,OAAO;4DACL,OAAO;4DACP,SAAS;4DACT,cAAc;4DACd,QAAQ;wDACV;;;;;;;;;;;;;;;;;;kDAKN,6VAAC;wCAAI,OAAO;4CAAE,WAAW;wCAAQ;;0DAC/B,6VAAC;gDAAI,OAAO;oDAAE,YAAY;gDAAI;;oDAC3B,CAAC,EAAE,KAAK,GAAG,EAAE,QAAQ,EAAE,cAAc,CAAC;oDAAS;;;;;;;0DAGlD,6VAAC;gDACC,SAAS,IAAM,SAAS,IAAA,oIAAc,EAAC,EAAE,EAAE;gDAC3C,OAAO;oDACL,WAAW;oDACX,SAAS;oDACT,cAAc;oDACd,QAAQ;oDACR,YAAY;oDACZ,QAAQ;gDACV;0DACD;;;;;;;;;;;;;+BAhEE,EAAE,EAAE;;;;;;;;;;kCAwEf,6VAAC;wBACC,OAAO;4BACL,WAAW;4BACX,SAAS;4BACT,gBAAgB;4BAChB,YAAY;4BACZ,WAAW;4BACX,YAAY;wBACd;;0CAEA,6VAAC;gCACC,SAAS,IAAM,SAAS,IAAA,+HAAS;gCACjC,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,YAAY;oCACZ,QAAQ;gCACV;0CACD;;;;;;0CAID,6VAAC;gCAAI,OAAO;oCAAE,UAAU;oCAAI,YAAY;gCAAI;;oCAAG;oCAClC,MAAM,cAAc,CAAC;oCAAS;;;;;;;;;;;;;;;;;;;;;AAOvD"}}]
}